const XSelect=class{constructor(a,b,c,d=()=>{}){this.$box=$(a),this.items=b,this.value=c,this.cb=d,this.initHandlers(),this.renderView();let e=this.items.filter(a=>"common"===a.mode);this.constructor.renderList(e)}initHandlers(){$("#locations-list").on("click",".location_item_link",a=>{this.value=$(a.target).closest("li").attr("value"),this.renderView(),this.cb(this.value)}),$("#search-input").on("keyup",()=>{let a=$("#search-input").val(),b=this.items;if(""!==a&&null!==a){let c=new RegExp(a+".*","i");b=this.items.filter(a=>{let b=a.country_name;return b.match(c)})}this.constructor.renderList(b)}),$("#all").on("click",a=>{let b=this.items.filter(a=>"common"===a.mode);$(a.target).addClass("active"),$("#favorites").removeClass("active"),$("#streaming").removeClass("active"),this.constructor.renderList(b)}),$("#streaming").on("click",a=>{let b=this.items.filter(a=>"streaming"===a.mode);$(a.target).addClass("active"),$("#all").removeClass("active"),$("#favorites").removeClass("active"),this.constructor.renderList(b)}),$("#favorites").on("click",a=>{let b=this.items.filter(a=>a.favorite);$(a.target).addClass("active"),$("#all").removeClass("active"),$("#streaming").removeClass("active"),this.constructor.renderList(b)}),$(".js-search-close").on("click",()=>{$("#search-input").val(""),this.constructor.renderList(this.items)})}renderView(){this.$box.find(".geo_chooser").html(`                             </a>        `)}static renderList(a){$(".geo_screen").find("#locations-list").html(a.map(function(a){let b=a.mode,c=a.original_region?" - "+a.original_region:"";return"streaming"===b?`<li class="location_item d-flex align-center ${a.favorite}" value="${a.region}">                                    <a class="location_item_link d-flex align-center grow-1" href="#">                                        <i class="location_flag">                                            <img src="/img/flags/${a.value}.png" alt="Country flag">                                        </i>                                        <span class="location_name">${a.country_name+c}</span>                                        <div class="signal_straight l3">                                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 400 400" xml:space="preserve">                                                <rect class="bar_1" y="225"  width="70" height="125"/>                                                <rect class="bar_2" x="100" y="150" width="70" height="200"/>                                                <rect class="bar_3" x="200" y="75" width="70" height="275"/>                                                <rect class="bar_4" x="300" y="0" width="70" height="350"/>                                            </svg>                                        </div>                                    </a>                                    <a class="add_to_fav_btn" href="#">                                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 53.867 53.867" style="enable-background:new 0 0 53.867 53.867;" xml:space="preserve">                                                <polygon style="fill:#dedede;" points="26.934,1.318 35.256,18.182 53.867,20.887 40.4,34.013 43.579,52.549 26.934,43.798                                             10.288,52.549 13.467,34.013 0,20.887 18.611,18.182 " />                                            </svg>                                    </a>                                </li>`:"common"===b?`<li class="location_item d-flex align-center ${a.favorite}" value="${a.region}">                                    <a class="location_item_link d-flex align-center grow-1" href="#">                                        <i class="location_flag">                                            <img src="/img/flags/${a.value}.svg" alt="Country flag">                                        </i>                                        <span class="location_name">${a.country_name+c}</span>                                        <div class="signal_straight l3">                                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 400 400" xml:space="preserve">                                                <rect class="bar_1" y="225"  width="70" height="125"/>                                                <rect class="bar_2" x="100" y="150" width="70" height="200"/>                                                <rect class="bar_3" x="200" y="75" width="70" height="275"/>                                                <rect class="bar_4" x="300" y="0" width="70" height="350"/>                                            </svg>                                        </div>                                    </a>                                    <a class="add_to_fav_btn" href="#">                                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 53.867 53.867" style="enable-background:new 0 0 53.867 53.867;" xml:space="preserve">                                                <polygon style="fill:#dedede;" points="26.934,1.318 35.256,18.182 53.867,20.887 40.4,34.013 43.579,52.549 26.934,43.798                                             10.288,52.549 13.467,34.013 0,20.887 18.611,18.182 " />                                            </svg>                                    </a>                                </li>`:void 0}).join(""))}};